<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>門市專區 | 翠峰飲品開發公司</title>
  <link rel="stylesheet" href="../../universal-file/nav.css"><!--匯入導覽列美化-->
  <link rel="stylesheet" href="../../universal-file/footer.css"><!--匯入尾頁美化-->
  <script src="../../universal-file/allpage.js" defer></script>
  <script src="../../universal-file/productData.js"></script><!--匯入產品資料的js-->
  <script src="products.js" defer></script><!--匯入產品展示主js檔案-->
  <script src="../../online-shop-system/cart.js"></script><!--匯入購物車系統-->
</head>
<body>

  <!-- 導覽列 -->
  <div id="navbar-placeholder"></div>
  <script>
    fetch('../../universal-file/nav.html')
      .then(response => {
        if (!response.ok) throw new Error('Navbar fetch failed');
        return response.text();
      })
      .then(data => {
        document.getElementById('navbar-placeholder').innerHTML = data;
      })
      .catch(err => {
        console.error('導覽列載入失敗:', err);
      });
    fetch('../../universal-file/nav.html')
      .then(res => res.text())
      .then(html => {
        document.getElementById('navbar').innerHTML = html;
      })
      .then(() => {
        // 導覽列載入完，才執行購物車更新
        updateCartDisplay();
      });
    fetch('../../universal-file/nav.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('navbar-placeholder').innerHTML = data;
      })
      .then(() => {
        // 等 navbar 載入後再啟動你的navbar滾動效果
        let prevScrollPos = window.pageYOffset;
        const navbar = document.getElementById("navbar");
        const hamburgerBtn = document.getElementById('hamburger-btn');
        const navLinks = document.getElementById('nav-links');

        window.addEventListener('scroll', function() {
          const currentScrollPos = window.pageYOffset;
          if (prevScrollPos > currentScrollPos) {
            navbar.style.top = "0";
            navbar.classList.remove("transparent");
          } else {
            navbar.style.top = "-80px";
            navbar.classList.add("transparent");
          }
          prevScrollPos = currentScrollPos;
        });

        hamburgerBtn.addEventListener('click', function() {
          navLinks.classList.toggle('active');
        });
      });
  </script>

  <!-- 地圖區 -->
  <section id="store-map" style="text-align: center; margin: 2rem 0;">
    <h2>門市據點</h2>
    <iframe 
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d28923.947!2d121.5654!3d25.0330!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442abbcd00f0001%3A0xabcdef!2z6Ie65YyX5bqr5rC05ZCI5Lit5q2j!5e0!3m2!1szh-TW!2stw!4v0000000000000" 
      width="90%" height="400" style="border:0;" allowfullscreen="" loading="lazy">
    </iframe>
  </section>

  <!-- 門市資訊 -->
  <section id="store-info" class="product-grid" style="padding: 0 2rem;">
    <div class="product-card">
      <h3>新北淡水旗艦店</h3>
      <p>地址：新北淡水<br>電話：(02) 1234-5678<br>營業時間：10:00 - 22:00</p>
    </div>
    <!-- 可新增其他門市 -->
  </section>

  <!-- 限定商品 -->
  <section id="store-limited">
    <h2 style="text-align: center;">門市限定商品</h2>
    <div class="product-grid">
      <div class="product-card">
        <img src="images/store_drink1.jpg" alt="限定飲品1">
        <h3></h3>
        <p></p>
        <p class="price">NT$ </p>
      </div>
      <div class="product-card">
        <img src="images/store_drink2.jpg" alt="限定飲品2">
        <h3></h3>
        <p></p>
        <p class="price">NT$ </p>
      </div>
    </div>
  </section>

  <!-- 自助點餐入口 -->
  <section id="self-order" style="text-align: center; margin: 3rem 0;">
    <h2>自助點餐系統（門市限定）</h2>
    <p>現場體驗快速客製推薦服務</p>
    <a href="kiosk.html" class="btn">前往點餐</a>
  </section>

  <!-- 頁尾 -->
  <div id="footer"></div>

</body>
</html>
